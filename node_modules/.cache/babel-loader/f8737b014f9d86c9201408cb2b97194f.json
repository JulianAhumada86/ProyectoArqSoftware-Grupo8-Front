{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Documentos/Arq Soft 1/ProyectoArqSoftware-Grupo8-Front/src/Landing.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Carousel } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { getImagesByHotelId, getHotelsC } from './api';\nfunction Landing() {\n  const [hoteles, setHoteles] = useState([]);\n  const getHoteles = async () => {\n    try {\n      const response = await getHotelsC();\n      const hotelsData = response.data.hotels;\n\n      // Mapear sobre la lista de hoteles y obtener la primera imagen para cada uno\n      const hotelesConImagenes = await Promise.all(hotelsData.map(async hotel => {\n        try {\n          var _imagenResponse$data$;\n          // Obtener la primera imagen para el hotel actual\n          const imagenResponse = await getImagesByHotelId(hotel.id);\n          const primeraImagen = ((_imagenResponse$data$ = imagenResponse.data.images[0]) === null || _imagenResponse$data$ === void 0 ? void 0 : _imagenResponse$data$.imagen) || null;\n\n          // Devolver el hotel con la información de la primera imagen\n          return {\n            ...hotel,\n            primeraImagen\n          };\n        } catch (error) {\n          console.error(`Error al obtener la imagen para el hotel ${hotel.id}:`, error);\n          return hotel; // En caso de error, devolver el hotel sin la imagen\n        }\n      }));\n\n      // Actualizar el estado con la nueva lista de hoteles que incluyen la primera imagen\n      setHoteles(hotelesConImagenes);\n    } catch (error) {\n      console.error('Error al obtener hoteles:', error);\n    }\n  };\n  useEffect(() => {\n    getHoteles();\n  }, []); // La dependencia vacía asegura que estos efectos solo se ejecuten una vez al montar el componente.\n\n  return /*#__PURE__*/React.createElement(Carousel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, hoteles.map(hotel => /*#__PURE__*/React.createElement(Carousel.Item, {\n    key: hotel.id,\n    value: hotel.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, hotel.primeraImagen ? /*#__PURE__*/React.createElement(\"img\", {\n    className: \"d-block w-100\",\n    src: `data:image/jpeg;base64,${btoa(String.fromCharCode.apply(null, hotel.primeraImagen))}`,\n    alt: `Imagen de ${hotel.name}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    className: \"d-block w-100\",\n    src: \"https://mcaleer-rushe.co.uk/site/wp-content/uploads/2019/05/Maldron-Hotel-Belfast-IntAirport-I.jpg\",\n    alt: \"Respaldo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: `/hotel/${hotel.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Carousel.Caption, {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n      height: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, `Maldron ${hotel.name}`), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, hotel.description))))));\n}\nexport default Landing;","map":{"version":3,"names":["React","useState","useEffect","Carousel","Link","getImagesByHotelId","getHotelsC","Landing","hoteles","setHoteles","getHoteles","response","hotelsData","data","hotels","hotelesConImagenes","Promise","all","map","hotel","_imagenResponse$data$","imagenResponse","id","primeraImagen","images","imagen","error","console","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Item","key","value","className","src","btoa","String","fromCharCode","apply","alt","name","to","Caption","style","display","flexDirection","alignItems","justifyContent","height","description"],"sources":["/home/pedro/Documentos/Arq Soft 1/ProyectoArqSoftware-Grupo8-Front/src/Landing.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Carousel } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { getImagesByHotelId, getHotelsC } from './api';\n\nfunction Landing() {\n  const [hoteles, setHoteles] = useState([]);\n\n  const getHoteles = async () => {\n    try {\n      const response = await getHotelsC();\n\n      const hotelsData = response.data.hotels;\n\n      // Mapear sobre la lista de hoteles y obtener la primera imagen para cada uno\n      const hotelesConImagenes = await Promise.all(\n        hotelsData.map(async (hotel) => {\n          try {\n            // Obtener la primera imagen para el hotel actual\n            const imagenResponse = await getImagesByHotelId(hotel.id);\n            const primeraImagen = imagenResponse.data.images[0]?.imagen || null;\n\n            // Devolver el hotel con la información de la primera imagen\n            return {\n              ...hotel,\n              primeraImagen,\n            };\n          } catch (error) {\n            console.error(`Error al obtener la imagen para el hotel ${hotel.id}:`, error);\n            return hotel; // En caso de error, devolver el hotel sin la imagen\n          }\n        })\n      );\n\n      // Actualizar el estado con la nueva lista de hoteles que incluyen la primera imagen\n      setHoteles(hotelesConImagenes);\n    } catch (error) {\n      console.error('Error al obtener hoteles:', error);\n    }\n  };\n\n  useEffect(() => {\n    getHoteles();\n  }, []); // La dependencia vacía asegura que estos efectos solo se ejecuten una vez al montar el componente.\n\n  return (\n    <Carousel>\n      {hoteles.map((hotel) => (\n        <Carousel.Item key={hotel.id} value={hotel.id}>\n          {hotel.primeraImagen ? (\n            <img\n              className=\"d-block w-100\"\n              src={`data:image/jpeg;base64,${btoa(String.fromCharCode.apply(null, hotel.primeraImagen))}`}\n              alt={`Imagen de ${hotel.name}`}\n            />\n          ) : (\n            <img\n              className=\"d-block w-100\"\n              src=\"https://mcaleer-rushe.co.uk/site/wp-content/uploads/2019/05/Maldron-Hotel-Belfast-IntAirport-I.jpg\"\n              alt=\"Respaldo\"\n            />\n          )}\n          <Link to={`/hotel/${hotel.id}`}>\n            <Carousel.Caption\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'flex-end',\n                height: '100%',\n              }}\n            >\n              <h1>{`Maldron ${hotel.name}`}</h1>\n              <p>{hotel.description}</p>\n            </Carousel.Caption>\n          </Link>\n        </Carousel.Item>\n      ))}\n    </Carousel>\n  );\n}\n\nexport default Landing;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}