{"ast":null,"code":"var _jsxFileName = \"/home/julian/Proyecto-arq-soft/ProyectoArqSoftware-Grupo8-Front/src/AddImages.js\";\nimport React, { useState } from 'react';\nimport { Container, Row, Col, Button } from 'react-bootstrap';\nimport { useDropzone } from 'react-dropzone';\nimport { postImage } from './api';\nfunction AddImages() {\n  const [imagenes, setImagenes] = useState([]);\n  const [previewImages, setPreviewImages] = useState([]);\n  const handleEliminarImagen = index => {\n    // Eliminar la imagen del estado\n    const updatedImages = [...imagenes];\n    updatedImages.splice(index, 1);\n    setImagenes(updatedImages);\n\n    // Eliminar la imagen de la previsualización\n    const updatedPreview = [...previewImages];\n    updatedPreview.splice(index, 1);\n    setPreviewImages(updatedPreview);\n  };\n  const {\n    getRootProps,\n    getInputProps\n  } = useDropzone({\n    accept: 'image/jpeg',\n    // Solo permitir archivos de imagen\n    onDrop: acceptedFiles => {\n      // Actualizar el estado de las imágenes y generar la previsualización\n      setImagenes([...imagenes, ...acceptedFiles]);\n      const preview = [...previewImages, ...acceptedFiles.map(file => URL.createObjectURL(file))];\n      setPreviewImages(preview);\n    }\n  });\n  const handleSubmit = async event => {\n    event.preventDefault();\n    try {\n      const formData = new FormData();\n      imagenes.forEach(imagen => {\n        formData.append('image', imagen);\n      });\n      const response = await postImage(2, formData);\n      console.log(response);\n    } catch (error) {\n      console.error('Error al procesar las imágenes:', error);\n    }\n  };\n  return /*#__PURE__*/React.createElement(Container, {\n    className: \"mt-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Crear Hotel\"), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, \"Selecciona las imagenes\"), /*#__PURE__*/React.createElement(\"div\", Object.assign({}, getRootProps(), {\n    style: dropzoneStyles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", Object.assign({}, getInputProps(), {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Arrastra y suelta im\\xE1genes aqu\\xED, o haz clic para seleccionar\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: previewContainerStyles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, previewImages.map((url, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    style: {\n      position: 'relative'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: url,\n    alt: `Imagen ${index}`,\n    style: previewImageStyles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleEliminarImagen(index),\n    style: deleteButtonStyles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }\n  }, \"x\"))))), /*#__PURE__*/React.createElement(Row, {\n    className: \"mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 6,\n    className: \"d-flex justify-content-end\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"Crear\"))));\n}\n\n// Estilos para la drop zone\nconst dropzoneStyles = {\n  border: '2px dashed #cccccc',\n  borderRadius: '4px',\n  padding: '20px',\n  textAlign: 'center',\n  cursor: 'pointer',\n  marginTop: '20px'\n};\n\n// Estilos para la previsualización de imágenes\nconst previewContainerStyles = {\n  marginTop: '20px',\n  display: 'flex',\n  flexWrap: 'wrap'\n};\nconst previewImageStyles = {\n  width: '100px',\n  height: '100px',\n  objectFit: 'cover',\n  marginRight: '10px',\n  marginBottom: '10px'\n};\nconst deleteButtonStyles = {\n  position: 'absolute',\n  top: '5px',\n  right: '5px',\n  padding: '5px',\n  background: 'red',\n  color: 'white',\n  border: 'none',\n  borderRadius: '4px',\n  cursor: 'pointer'\n};\nexport default AddImages;","map":{"version":3,"names":["React","useState","Container","Row","Col","Button","useDropzone","postImage","AddImages","imagenes","setImagenes","previewImages","setPreviewImages","handleEliminarImagen","index","updatedImages","splice","updatedPreview","getRootProps","getInputProps","accept","onDrop","acceptedFiles","preview","map","file","URL","createObjectURL","handleSubmit","event","preventDefault","formData","FormData","forEach","imagen","append","response","console","log","error","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Object","assign","style","dropzoneStyles","previewContainerStyles","url","key","position","src","alt","previewImageStyles","onClick","deleteButtonStyles","md","variant","border","borderRadius","padding","textAlign","cursor","marginTop","display","flexWrap","width","height","objectFit","marginRight","marginBottom","top","right","background","color"],"sources":["/home/julian/Proyecto-arq-soft/ProyectoArqSoftware-Grupo8-Front/src/AddImages.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Container, Row, Col, Button } from 'react-bootstrap';\nimport { useDropzone } from 'react-dropzone';\nimport { postImage } from './api';\n\nfunction AddImages() {\n  const [imagenes, setImagenes] = useState([]);\n  const [previewImages, setPreviewImages] = useState([]);\n\n\n  const handleEliminarImagen = (index) => {\n    // Eliminar la imagen del estado\n    const updatedImages = [...imagenes];\n    updatedImages.splice(index, 1);\n    setImagenes(updatedImages);\n\n    // Eliminar la imagen de la previsualización\n    const updatedPreview = [...previewImages];\n    updatedPreview.splice(index, 1);\n    setPreviewImages(updatedPreview);\n  };\n\n  const { getRootProps, getInputProps } = useDropzone({\n    accept: 'image/jpeg', // Solo permitir archivos de imagen\n    onDrop: (acceptedFiles) => {\n      // Actualizar el estado de las imágenes y generar la previsualización\n      setImagenes([...imagenes, ...acceptedFiles]);\n      const preview = [...previewImages, ...acceptedFiles.map(file => URL.createObjectURL(file))];\n      setPreviewImages(preview);\n    },\n  });\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      const formData = new FormData();\n      imagenes.forEach((imagen) => {\n        formData.append('image', imagen);\n      });\n      const response = await postImage(2, formData); \n      console.log(response);\n    } catch (error) {\n      console.error('Error al procesar las imágenes:', error);\n    }\n  };\n  \n  \n\n  return (\n    <Container className=\"mt-5\">\n      <h2>Crear Hotel</h2>     \n      <Row>\n          <p>Selecciona las imagenes</p>\n          <div {...getRootProps()} style={dropzoneStyles}>\n            <input {...getInputProps()} />\n            <p>Arrastra y suelta imágenes aquí, o haz clic para seleccionar</p>\n          </div>\n          <div style={previewContainerStyles}>\n            {previewImages.map((url, index) => (\n              <div key={index} style={{ position: 'relative' }}>\n                <img\n                  src={url}\n                  alt={`Imagen ${index}`}\n                  style={previewImageStyles}\n                />\n                <button\n                  onClick={() => handleEliminarImagen(index)}\n                  style={deleteButtonStyles}\n                >\n                  x\n                </button>\n              </div>\n            ))}\n          </div>\n      </Row>\n      <Row className=\"mt-3\">\n        <Col md={6} className=\"d-flex justify-content-end\">\n          <Button variant=\"primary\" onClick={handleSubmit}>\n            Crear\n          </Button>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\n// Estilos para la drop zone\nconst dropzoneStyles = {\n  border: '2px dashed #cccccc',\n  borderRadius: '4px',\n  padding: '20px',\n  textAlign: 'center',\n  cursor: 'pointer',\n  marginTop: '20px',\n};\n\n// Estilos para la previsualización de imágenes\nconst previewContainerStyles = {\n  marginTop: '20px',\n  display: 'flex',\n  flexWrap: 'wrap',\n};\n\nconst previewImageStyles = {\n  width: '100px',\n  height: '100px',\n  objectFit: 'cover',\n  marginRight: '10px',\n  marginBottom: '10px',\n};\n\nconst deleteButtonStyles = {\n  position: 'absolute',\n  top: '5px',\n  right: '5px',\n  padding: '5px',\n  background: 'red',\n  color: 'white',\n  border: 'none',\n  borderRadius: '4px',\n  cursor: 'pointer',\n};\n\nexport default AddImages;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,SAAS,EAAEC,GAAG,EAAEC,GAAG,EAAEC,MAAM,QAAQ,iBAAiB;AAC7D,SAASC,WAAW,QAAQ,gBAAgB;AAC5C,SAASC,SAAS,QAAQ,OAAO;AAEjC,SAASC,SAASA,CAAA,EAAG;EACnB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACU,aAAa,EAAEC,gBAAgB,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAGtD,MAAMY,oBAAoB,GAAIC,KAAK,IAAK;IACtC;IACA,MAAMC,aAAa,GAAG,CAAC,GAAGN,QAAQ,CAAC;IACnCM,aAAa,CAACC,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;IAC9BJ,WAAW,CAACK,aAAa,CAAC;;IAE1B;IACA,MAAME,cAAc,GAAG,CAAC,GAAGN,aAAa,CAAC;IACzCM,cAAc,CAACD,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;IAC/BF,gBAAgB,CAACK,cAAc,CAAC;EAClC,CAAC;EAED,MAAM;IAAEC,YAAY;IAAEC;EAAc,CAAC,GAAGb,WAAW,CAAC;IAClDc,MAAM,EAAE,YAAY;IAAE;IACtBC,MAAM,EAAGC,aAAa,IAAK;MACzB;MACAZ,WAAW,CAAC,CAAC,GAAGD,QAAQ,EAAE,GAAGa,aAAa,CAAC,CAAC;MAC5C,MAAMC,OAAO,GAAG,CAAC,GAAGZ,aAAa,EAAE,GAAGW,aAAa,CAACE,GAAG,CAACC,IAAI,IAAIC,GAAG,CAACC,eAAe,CAACF,IAAI,CAAC,CAAC,CAAC;MAC3Fb,gBAAgB,CAACW,OAAO,CAAC;IAC3B;EACF,CAAC,CAAC;EAEF,MAAMK,YAAY,GAAG,MAAOC,KAAK,IAAK;IACpCA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtB,IAAI;MACF,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BvB,QAAQ,CAACwB,OAAO,CAAEC,MAAM,IAAK;QAC3BH,QAAQ,CAACI,MAAM,CAAC,OAAO,EAAED,MAAM,CAAC;MAClC,CAAC,CAAC;MACF,MAAME,QAAQ,GAAG,MAAM7B,SAAS,CAAC,CAAC,EAAEwB,QAAQ,CAAC;MAC7CM,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC;IACvB,CAAC,CAAC,OAAOG,KAAK,EAAE;MACdF,OAAO,CAACE,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;IACzD;EACF,CAAC;EAID,oBACEvC,KAAA,CAAAwC,aAAA,CAACtC,SAAS;IAACuC,SAAS,EAAC,MAAM;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzB/C,KAAA,CAAAwC,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,aAAe,CAAC,eACpB/C,KAAA,CAAAwC,aAAA,CAACrC,GAAG;IAAAuC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACA/C,KAAA,CAAAwC,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,yBAA0B,CAAC,eAC9B/C,KAAA,CAAAwC,aAAA,QAAAQ,MAAA,CAAAC,MAAA,KAAS/B,YAAY,CAAC,CAAC;IAAEgC,KAAK,EAAEC,cAAe;IAAAT,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,iBAC7C/C,KAAA,CAAAwC,aAAA,UAAAQ,MAAA,CAAAC,MAAA,KAAW9B,aAAa,CAAC,CAAC;IAAAuB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,EAAG,CAAC,eAC9B/C,KAAA,CAAAwC,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAG,oEAA+D,CAC/D,CAAC,eACN/C,KAAA,CAAAwC,aAAA;IAAKU,KAAK,EAAEE,sBAAuB;IAAAV,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAChCpC,aAAa,CAACa,GAAG,CAAC,CAAC6B,GAAG,EAAEvC,KAAK,kBAC5Bd,KAAA,CAAAwC,aAAA;IAAKc,GAAG,EAAExC,KAAM;IAACoC,KAAK,EAAE;MAAEK,QAAQ,EAAE;IAAW,CAAE;IAAAb,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC/C/C,KAAA,CAAAwC,aAAA;IACEgB,GAAG,EAAEH,GAAI;IACTI,GAAG,EAAG,UAAS3C,KAAM,EAAE;IACvBoC,KAAK,EAAEQ,kBAAmB;IAAAhB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,CAC3B,CAAC,eACF/C,KAAA,CAAAwC,aAAA;IACEmB,OAAO,EAAEA,CAAA,KAAM9C,oBAAoB,CAACC,KAAK,CAAE;IAC3CoC,KAAK,EAAEU,kBAAmB;IAAAlB,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC3B,GAEO,CACL,CACN,CACE,CACJ,CAAC,eACN/C,KAAA,CAAAwC,aAAA,CAACrC,GAAG;IAACsC,SAAS,EAAC,MAAM;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACnB/C,KAAA,CAAAwC,aAAA,CAACpC,GAAG;IAACyD,EAAE,EAAE,CAAE;IAACpB,SAAS,EAAC,4BAA4B;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAChD/C,KAAA,CAAAwC,aAAA,CAACnC,MAAM;IAACyD,OAAO,EAAC,SAAS;IAACH,OAAO,EAAE/B,YAAa;IAAAc,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,OAEzC,CACL,CACF,CACI,CAAC;AAEhB;;AAEA;AACA,MAAMI,cAAc,GAAG;EACrBY,MAAM,EAAE,oBAAoB;EAC5BC,YAAY,EAAE,KAAK;EACnBC,OAAO,EAAE,MAAM;EACfC,SAAS,EAAE,QAAQ;EACnBC,MAAM,EAAE,SAAS;EACjBC,SAAS,EAAE;AACb,CAAC;;AAED;AACA,MAAMhB,sBAAsB,GAAG;EAC7BgB,SAAS,EAAE,MAAM;EACjBC,OAAO,EAAE,MAAM;EACfC,QAAQ,EAAE;AACZ,CAAC;AAED,MAAMZ,kBAAkB,GAAG;EACzBa,KAAK,EAAE,OAAO;EACdC,MAAM,EAAE,OAAO;EACfC,SAAS,EAAE,OAAO;EAClBC,WAAW,EAAE,MAAM;EACnBC,YAAY,EAAE;AAChB,CAAC;AAED,MAAMf,kBAAkB,GAAG;EACzBL,QAAQ,EAAE,UAAU;EACpBqB,GAAG,EAAE,KAAK;EACVC,KAAK,EAAE,KAAK;EACZZ,OAAO,EAAE,KAAK;EACda,UAAU,EAAE,KAAK;EACjBC,KAAK,EAAE,OAAO;EACdhB,MAAM,EAAE,MAAM;EACdC,YAAY,EAAE,KAAK;EACnBG,MAAM,EAAE;AACV,CAAC;AAED,eAAe3D,SAAS"},"metadata":{},"sourceType":"module"}