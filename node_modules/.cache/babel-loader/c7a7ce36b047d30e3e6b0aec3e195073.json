{"ast":null,"code":"var _jsxFileName = \"/home/pedro/Documentos/Arq Soft 1/ProyectoArqSoftware-Grupo8-Front/src/Landing.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Carousel } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { getImagesByHotelId, getHotelsC } from './api';\nfunction Landing() {\n  const [hoteles, setHoteles] = useState([]);\n  const [imagenPerfil, setImagenPerfil] = useState(null);\n  const getHoteles = async () => {\n    try {\n      const response = await getHotelsC();\n      const reservasData = response.data.hotels;\n      setHoteles(reservasData);\n    } catch (error) {\n      console.error('Error al obtener hoteles:', error);\n    }\n  };\n  const getImagen = async () => {\n    try {\n      const response = await getImagesByHotelId();\n      console.log('Respuesta de la API de imágenes:', response.data);\n\n      // Verificar si hay imágenes disponibles\n      if (response.data.images && response.data.images.length > 0) {\n        const imagen = response.data.images[0].imagen; // Cambiar a 'imagen'\n\n        // Elimina la parte inicial del formato\n        const base64Data = imagen.replace(/^data:image\\/jpeg;base64,/, '');\n\n        // Almacenar la imagen decodificada como un objeto Uint8Array\n        setImagenPerfil(new Uint8Array(atob(base64Data).split('').map(char => char.charCodeAt(0))));\n      } else {\n        console.warn('No hay imágenes disponibles para este hotel.');\n        // Puedes configurar aquí la imagen predeterminada si lo deseas\n      }\n    } catch (error) {\n      console.error('Error al obtener la imagen de perfil:', error);\n    }\n  };\n  useEffect(() => {\n    getHoteles();\n    getImagen();\n  }, []);\n  return /*#__PURE__*/React.createElement(Carousel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, hoteles.map(hotel => /*#__PURE__*/React.createElement(Carousel.Item, {\n    key: hotel.id,\n    value: hotel.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, imagenPerfil ? /*#__PURE__*/React.createElement(\"img\", {\n    className: \"d-block w-100\",\n    src: `data:image/jpeg;base64,${btoa(String.fromCharCode.apply(null, imagenPerfil))}`,\n    alt: `Imagen de ${hotel.name}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(\"img\", {\n    className: \"d-block w-100\",\n    src: \"https://mcaleer-rushe.co.uk/site/wp-content/uploads/2019/05/Maldron-Hotel-Belfast-IntAirport-I.jpg\",\n    alt: \"Respaldo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: `/hotel/${hotel.id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Carousel.Caption, {\n    style: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'flex-end',\n      height: '100%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 15\n    }\n  }, `Maldron ${hotel.name}`), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, hotel.description))))));\n}\n;\nexport default Landing;","map":{"version":3,"names":["React","useState","useEffect","Carousel","Link","getImagesByHotelId","getHotelsC","Landing","hoteles","setHoteles","imagenPerfil","setImagenPerfil","getHoteles","response","reservasData","data","hotels","error","console","getImagen","log","images","length","imagen","base64Data","replace","Uint8Array","atob","split","map","char","charCodeAt","warn","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","hotel","Item","key","id","value","className","src","btoa","String","fromCharCode","apply","alt","name","to","Caption","style","display","flexDirection","alignItems","justifyContent","height","description"],"sources":["/home/pedro/Documentos/Arq Soft 1/ProyectoArqSoftware-Grupo8-Front/src/Landing.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Carousel } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { getImagesByHotelId, getHotelsC } from './api';\n\nfunction Landing() {\n  const [hoteles, setHoteles] = useState([]);\n  const [imagenPerfil, setImagenPerfil] = useState(null);\n\n  const getHoteles = async () => {\n    try {\n      const response = await getHotelsC();\n      const reservasData = response.data.hotels;\n      setHoteles(reservasData);\n    } catch (error) {\n      console.error('Error al obtener hoteles:', error);\n    }\n  };\n\n  const getImagen = async () => {\n    try {\n      const response = await getImagesByHotelId();\n      console.log('Respuesta de la API de imágenes:', response.data);\n  \n      // Verificar si hay imágenes disponibles\n      if (response.data.images && response.data.images.length > 0) {\n        const imagen = response.data.images[0].imagen; // Cambiar a 'imagen'\n  \n        // Elimina la parte inicial del formato\n        const base64Data = imagen.replace(/^data:image\\/jpeg;base64,/, '');\n  \n        // Almacenar la imagen decodificada como un objeto Uint8Array\n        setImagenPerfil(new Uint8Array(atob(base64Data).split('').map(char => char.charCodeAt(0))));\n      } else {\n        console.warn('No hay imágenes disponibles para este hotel.');\n        // Puedes configurar aquí la imagen predeterminada si lo deseas\n      }\n    } catch (error) {\n      console.error('Error al obtener la imagen de perfil:', error);\n    }\n  };\n\n  useEffect(() => {\n    getHoteles();\n    getImagen();\n  }, []);\n\n\n  return (\n    <Carousel>\n      {hoteles.map((hotel) => (\n        <Carousel.Item key={hotel.id} value={hotel.id}>\n          {imagenPerfil ? (\n            <img\n              className=\"d-block w-100\"\n              src={`data:image/jpeg;base64,${btoa(\n                String.fromCharCode.apply(null, imagenPerfil)\n              )}`}\n              alt={`Imagen de ${hotel.name}`}\n            />\n          ) : (\n            <img\n              className=\"d-block w-100\"\n              src=\"https://mcaleer-rushe.co.uk/site/wp-content/uploads/2019/05/Maldron-Hotel-Belfast-IntAirport-I.jpg\"\n              alt=\"Respaldo\"\n            />\n          )}\n          <Link to={`/hotel/${hotel.id}`}>\n            <Carousel.Caption\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n                alignItems: 'center',\n                justifyContent: 'flex-end',\n                height: '100%',\n              }}\n            >\n              <h1>{`Maldron ${hotel.name}`}</h1>\n              <p>{hotel.description}</p>\n            </Carousel.Caption>\n          </Link>\n        </Carousel.Item>\n      ))}\n    </Carousel>\n  );\n};\n\nexport default Landing;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}